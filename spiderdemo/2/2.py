import time

import httpx
cookies = {
    'sessionid': 'uqm22n6yt7pevlyt0fc6ru4zsdndts8l',
}
headers = {
    'accept': 'application/json, text/javascript, */*; q=0.01',
    'accept-language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6',
    'priority': 'u=1, i',
    'referer': 'https://www.spiderdemo.cn/ob/ob_challenge1/?challenge_type=ob_challenge1',
    'sec-ch-ua': '"Microsoft Edge";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Windows"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-origin',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0',
    'x-requested-with': 'XMLHttpRequest',
    # 'cookie': 'sessionid=uqm22n6yt7pevlyt0fc6ru4zsdndts8l',
}
requests = httpx.Client(http2=True,headers=headers,cookies=cookies)
import execjs


with open('jm.js',encoding='utf-8') as f:
    data=f.read()
ctx=execjs.compile(data)


allnums = []
for i in range(1,2):

    timestamp=str(int(time.time()*1000))
    data=f'{timestamp}{str(i)}'
    wasm_auth = ctx.call('hex_md5', data)

    params = {
        'challenge_type': 'ob_challenge1',
        'sign': wasm_auth,
        'timestamp': timestamp,
    }
    print(params)
    response = requests.get(
        f'https://www.spiderdemo.cn/ob/api/ob_challenge1/page/{str(i)}/', params=params,
    )
    print(response.text)
    res = response.json()
    allnums.extend(res.get('page_data'))

print(allnums)
# allnums=[1475, 2796, 6390, 9457, 7784, 8045, 5307, 9455, 1152, 8486, 1871, 3803, 8365, 6692, 4762, 1067, 2733, 5161, 8058, 3488, 4707, 9682, 9958, 2419, 6087, 8259, 1460, 9934, 9441, 6457, 3095, 7709, 5519, 9268, 4978, 5981, 6697, 5439, 5349, 7817, 9364, 8835, 8972, 9156, 4372, 4691, 8343, 2111, 7563, 4196, 7061, 2669, 5186, 9445, 1049, 9748, 4919, 9308, 8290, 6339, 4481, 7620, 5228, 1942, 1677, 7957, 6870, 8928, 5347, 3523, 6469, 2548, 9443, 6357, 7439, 8056, 5943, 3563, 3815, 8738, 2522, 5531, 8157, 9605, 6706, 4320, 1783, 5234, 6971, 9222, 3942, 9051, 3580, 2428, 8979, 7854, 9014, 5312, 4488, 4251, 9985, 1944, 4234, 5080, 1893, 9419, 2388, 2737, 6917, 3553, 6756, 9253, 7186, 3097, 7886, 5066, 9588, 6075, 1303, 5732, 4997, 7147, 1672, 9989, 6198, 2826, 9314, 9048, 7283, 4394, 3832, 7182, 3857, 6574, 5610, 6602, 2150, 6607, 1717, 5965, 7651, 7269, 2195, 2425, 8681, 5714, 4904, 3346, 4668, 4442, 7151, 9959, 1233, 1324, 4743, 7216, 2749, 3222, 7732, 3468, 7963, 2236, 9155, 1347, 6622, 8383, 5085, 5509, 9918, 4774, 8010, 7836, 8037, 3171, 9504, 6605, 3142, 2059, 8447, 5268, 9076, 3280, 7315, 1549, 8470, 9383, 5185, 1876, 9622, 8705, 3889, 5214, 9854, 3037, 5161, 9193, 7525, 4812, 8062, 3970, 3661, 1953, 8162, 7846, 7446, 1787, 3344, 8403, 3628, 4374, 6556, 1880, 5490, 9101, 1977, 3336, 4988, 1768, 4654, 6959, 4794, 9933, 9987, 6972, 4771, 6034, 3484, 6853, 6539, 1111, 7752, 9535, 3128, 1121, 6571, 7675, 8884, 2898, 2608, 3988, 7775, 2240, 1084, 3042, 1935, 2649, 6517, 7432, 8305, 8360, 2987, 4753, 5194, 2955, 2506, 7682, 1545, 5936, 1853, 9367, 5531, 9533, 5174, 1384, 6994, 5446, 3529, 1376, 6420, 2728, 5274, 6519, 9663, 8033, 1471, 3866, 7032, 5752, 9423, 4598, 6304, 4248, 6940, 3294, 3220, 6498, 1168, 7089, 3050, 1403, 7843, 8539, 8745, 9682, 3586, 2581, 7329, 3159, 2695, 6694, 3389, 8998, 1739, 9148, 1069, 7878, 5669, 6437, 5601, 1500, 7378, 6563, 2199, 1451, 1796, 5867, 9534, 4978, 9870, 5031, 3982, 9602, 6245, 3729, 6615, 1693, 3916, 9191, 7857, 9113, 8094, 2027, 5302, 2649, 9871, 1597, 3053, 8204, 5851, 9928, 8046, 4011, 8042, 3674, 1480, 2487, 5631, 7787, 6860, 9535, 2534, 7816, 8565, 9088, 3612, 7269, 7400, 4861, 9963, 8366, 4746, 3230, 2128, 4826, 2720, 6689, 6776, 7486, 1771, 3371, 6098, 3424, 9310, 9249, 7550, 5490, 8345, 3499, 9372, 5314, 6119, 6141, 4862, 4169, 2712, 3152, 5241, 4339, 4995, 9964, 7993, 6575, 7366, 3442, 1532, 8744, 3373, 6656, 8507, 1160, 5798, 9537, 3367, 6927, 8988, 9987, 9956, 2319, 5893, 8697, 9076, 4613, 7407, 4034, 9930, 6333, 1391, 3181, 9164, 7038, 8523, 2795, 7976, 8423, 3243, 7477, 5438, 9262, 4589, 3541, 7870, 7474, 9534, 3457, 9546, 1701, 1976, 8856, 5736, 4735, 4652, 6837, 4653, 2248, 6362, 6032, 3110, 5158, 2622, 8050, 9781, 4743, 6794, 6693, 4064, 8289, 4077, 7468, 6564, 5287, 1503, 4395, 1726, 3805, 9356, 7339, 2903, 6343, 3333, 1200, 5910, 1801, 6330, 6403, 3840, 6334, 1597, 7752, 5625, 5404, 7506, 2954, 7638, 8947, 8639, 8084, 7781, 9122, 1051, 2491, 8103, 6071, 7970, 7850, 6951, 3896, 2412, 6849, 8277, 6772, 8667, 4121, 6332, 2801, 4859, 6368, 6492, 2660, 3171, 2278, 5270, 5765, 5946, 7135, 1907, 4287, 2450, 4465, 4275, 8026, 3424, 6553, 8087, 4446, 3503, 7104, 6840, 3147, 9106, 1735, 5019, 7926, 5197, 1583, 7380, 1702, 9400, 3780, 9077, 3727, 2550, 4851, 8249, 9990, 5426, 7603, 3572, 7542, 9120, 8815, 5436, 3204, 8834, 8240, 4995, 9919, 6376, 2221, 1969, 2469, 4674, 9685, 8386, 6285, 2892, 1881, 1786, 8553, 6600, 1575, 1589, 1549, 4225, 7508, 6450, 7157, 4331, 2369, 2378, 7870, 1738, 5554, 3621, 7925, 5598, 1832, 4934, 5916, 4479, 6276, 7411, 2692, 1691, 3645, 6990, 1900, 1974, 1527, 5172, 8546, 3864, 4931, 1310, 2785, 4336, 1146, 7693, 1555, 6788, 3477, 5390, 5052, 7969, 8096, 5039, 8604, 1906, 4072, 1910, 4180, 3562, 2233, 5582, 6196, 4414, 3101, 8465, 2392, 8447, 2513, 5116, 7958, 9656, 5729, 9786, 6934, 5869, 9637, 9624, 7008, 1309, 7225, 7683, 7188, 2863, 4102, 5227, 4906, 1894, 5902, 3843, 3257, 3609, 8624, 4306, 1142, 1353, 2093, 6492, 3400, 8051, 3096, 6027, 1921, 6608, 6468, 6009, 2861, 3286, 5543, 6724, 1954, 6075, 8484, 1937, 5120, 4099, 8592, 1956, 3001, 4090, 4095, 5266, 4776, 7074, 2027, 9253, 8114, 2317, 7335, 8162, 5032, 7904, 1159, 4734, 7906, 7545, 4251, 3317, 2748, 1766, 6954, 6004, 8387, 6706, 8858, 6566, 5457, 1053, 8762, 2303, 2484, 8655, 8836, 8077, 2367, 3267, 3979, 1794, 9211, 2034, 7508, 4200, 5918, 1179, 7194, 9878, 9350, 9818, 6881, 5697, 6517, 3923, 5956, 9956, 1836, 8618, 6343, 1438, 2488, 2421, 4537, 4704, 8395, 7114, 2067, 4356, 3468, 1048, 8172, 6495, 5507, 2637, 5101, 5088, 3974, 8620, 2369, 3084, 1490, 4466, 4302, 6756, 6643, 4769, 2803, 5277, 8903, 6488, 7418, 1820, 6339, 2421, 8045, 8288, 8845, 8572, 1628, 4313, 9861, 6109, 6791, 2407, 3536, 3969, 6597, 3711, 8091, 8254, 1568, 2646, 2803, 9155, 2193, 7915, 2228, 5452, 3737, 2760, 8690, 3433, 5723, 3467, 8686, 3802, 6426, 3065, 6364, 6389, 7050, 4991, 7980, 3977, 2182, 7062, 1253, 7744, 1223, 6265, 3285, 3950, 2378, 1890, 4662, 7594, 9247, 5338, 9352, 9518, 2827, 5807, 6717, 9365, 1051, 9702, 6287, 8417, 6687, 9301, 6674, 4733, 9218, 9203, 2857, 3434, 3881, 7806, 9282, 5899, 7324, 6961, 5803, 7566, 9203, 3982, 4100, 1994, 2193, 6875, 5060, 5131, 3994, 2715, 3735, 9123, 4044, 8523, 3339, 8502, 3866, 7397, 8723, 1468, 7321, 3001, 4067, 4745, 3211, 2692, 4409, 5334, 4963, 5473, 4397, 9707, 3818, 7510, 6563, 2985, 6194, 9520, 5524, 6559, 3644, 9462, 9950, 1926, 7915, 8895, 5465, 7267, 6481, 9299, 6749, 5433, 7887, 9896, 1748, 9224, 3318, 4457, 4260, 2443, 8219, 5197, 3971, 3968, 2670, 5760, 3884, 4162, 8108, 8227, 2459, 6287, 2720, 9048, 2489, 8319, 2502, 4438, 5726, 1103, 9651, 4900, 2471, 9703, 8265, 6123, 1182, 4955, 9734, 1282, 3118, 3910, 3124, 6007, 4058, 8058, 6748, 7323, 4779, 5715, 2414, 7569, 5115, 2024, 8530, 3018, 1372, 2196, 9590, 5619, 4243, 7125, 9335, 1335, 9384, 3825, 7607, 3997, 5045, 4333, 7901, 8639, 8671, 1981, 3263, 8741, 1852, 6788, 2754, 1318, 6671, 5103, 9231, 8797, 8116, 6274, 7849]
k = 0
for i in allnums:
    k = k + i
print(k)
# 5545528